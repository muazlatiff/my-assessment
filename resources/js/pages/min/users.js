(()=>{var e=document.querySelector("#users-list"),t=function(e,t,a){if(a<=8||t<2)return'<a href="javascript:" class="relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium text-gray-700 hover:bg-gray-50 paging-nav" data-page="'.concat(t+1,'">\n            ').concat(t+1,"\n        </a>");if(a>8&&(2===t||5===t))return'<span class="relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700 paging-nav">\n            ...\n        </span>';if(a>8&&3===t){var n=Math.floor(a/2);return'<a href="javascript:" class="relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium text-gray-700 hover:bg-gray-50 paging-nav" data-page="'.concat(t+1,'">\n            ').concat(n,'\n        </a>\n        <a href="javascript:" class="relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium text-gray-700 hover:bg-gray-50 paging-nav" data-page="').concat(t+1,'">\n            ').concat(n+1,"\n        </a>")}return a>8&&6===t?'<a href="javascript:" class="relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium text-gray-700 hover:bg-gray-50 paging-nav" data-page="'.concat(t+1,'">\n            ').concat(a-1,'\n        </a>\n        <a href="javascript:" class="relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium text-gray-700 hover:bg-gray-50 paging-nav" data-page="').concat(t+1,'">\n            ').concat(a,"\n        </a>"):null},a=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;preloadElement(e,!1),axios({method:"GET",url:"".concat(APP_URL,"/api/users?page=").concat(a,"&perPage=").concat(n)}).then((function(a){$(e).find(".paging-nav").remove();var n=a.data.last_page,r=n<=8?n:8;Array.from(Array(r).keys()).reverse().forEach((function(n){e.querySelector(".paging-prev.before-nav").insertAdjacentHTML("afterend",t(0,n,a.data.last_page))})),$(e).find('.paging-nav[data-page="'.concat(a.data.current_page,'"]')).addClass("bg-blue-100"),$(e).find(".paging-prev").attr("data-page",a.data.current_page>1?a.data.current_page-1:1),$(e).find(".paging-next").attr("data-page",a.data.current_page<a.data.last_page?a.data.current_page+1:a.data.last_page),e.querySelector(".paging-from").innerHTML=a.data.from,e.querySelector(".paging-to").innerHTML=a.data.to,e.querySelector(".paging-total").innerHTML=a.data.total,e.querySelector("tbody").innerHTML="",a.data.data.forEach((function(t){e.querySelector("tbody").innerHTML+='<tr>\n                        <td class="px-6 py-4 whitespace-nowrap">\n                            <div class="text-sm font-medium text-gray-900">'.concat(t.name,'</div>\n                        </td>\n                        <td class="px-6 py-4 whitespace-nowrap">\n                            <div class="text-sm font-medium text-gray-900">').concat(t.email,'</div>\n                        </td>\n                        <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">\n                            <a href="javascript:" class="text-indigo-600 hover:text-indigo-900" data-edit="').concat(t.id,'">\n                                Edit\n                            </a>\n                            ').concat(t.me?'<span class="text-green-900 ml-2">Myself</span>':'<a href="javascript:" class="text-red-600 hover:text-red-900 ml-2" data-delete="'.concat(t.id,'">\n                                    Delete\n                                </a>'),"\n                        </td>\n                    </tr>")})),preloadElement(e,!0)}))},n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;e?($("#title-add-user").html("Edit User"),$("#btn-add-user").html("Edit"),$("#form-add-user").attr("method","PATCH"),$("#form-add-user").attr("action","".concat(APP_URL,"/api/users/").concat(e))):($("#title-add-user").html("Add User"),$("#btn-add-user").html("Add"),$("#form-add-user").attr("method","POST"),$("#form-add-user").attr("action","".concat(APP_URL,"/api/users"))),$("#backdrop-add-user").removeClass("hidden"),$("#modal-add-user").removeClass("hidden")};$(document).on("click","#add-user",(function(){n()})),$(document).on("click","#users-list a[data-edit]",(function(){var e,t,a=$(this).attr("data-edit");e="".concat(APP_URL,"/api/users/").concat(a),t=function(){n(a)},axios({method:"GET",url:e}).then((function(e){$("#form-add-user").find('[name="name"]').val(e.data.name),$("#form-add-user").find('[name="email"]').val(e.data.email),t()})).catch((function(e){}))})),$(document).on("click","#modal-close-add-user",(function(){$("#backdrop-add-user").addClass("hidden"),$("#modal-add-user").addClass("hidden"),$("#form-add-user").trigger("reset")})),$(document).on("click","#excel-import",(function(){$("#backdrop-excel-import").removeClass("hidden"),$("#modal-excel-import").removeClass("hidden")})),$(document).on("click","#modal-close-excel-import",(function(){$("#backdrop-excel-import").addClass("hidden"),$("#modal-excel-import").addClass("hidden")})),$(document).on("click","#btn-add-user",(function(){$("#submit-add-user").trigger("click")})),$(document).on("submit","#form-add-user",(function(e){e.preventDefault(),function(){preloadElement($("#modal-add-user"),!1);var e=$("#form-add-user").attr("method");axios({method:e,url:$("#form-add-user").attr("action"),data:{name:$("#form-add-user").find('[name="name"]').val(),email:$("#form-add-user").find('[name="email"]').val(),password:$("#form-add-user").find('[name="password"]').val()}}).then((function(t){Swal.fire({icon:"success",title:"Successfully ".concat("PATCH"!==e?"Add":"Edit"," User")}).then((function(){a(),$("#modal-close-add-user").trigger("click"),preloadElement($("#modal-add-user"),!0)}))})).catch((function(t){Swal.fire({icon:"error",title:"".concat("PATCH"!==e?"Add":"Edit"," User Failed"),html:buildErrorMessage(t.response.data)}).then((function(){preloadElement($("#modal-add-user"),!0)}))}))}()})),$(document).on("click","#users-list a[data-delete]",(function(){!function(t){preloadElement(e,!1),axios({method:"DELETE",url:"".concat(APP_URL,"/api/users/").concat(t),data:{}}).then((function(t){Swal.fire({icon:"success",title:"Successfully Delete User"}).then((function(){a(),preloadElement(e,!0)}))})).catch((function(t){Swal.fire({icon:"error",title:"Delete User Failed",html:buildErrorMessage(t.response.data)}).then((function(){preloadElement(e,!0)}))}))}($(this).attr("data-delete"))}));var r=null,o=function(){var e=new FileReader;$("#no-excel-import").addClass("hidden"),e.onload=function(e){$("#input-excel-import").removeAttr("required"),$("#has-excel-import").html(r.name),$("#has-excel-import").removeClass("hidden"),$("#reset-excel-import").removeClass("hidden")},e.readAsDataURL(r)};$("#input-excel-import").on("change",(function(e){e.preventDefault(),r=e.target.files[0],o()})),$("#holder-excel-import")[0].ondragover=function(){return $(this).addClass("hover"),!1},$("#holder-excel-import")[0].ondrop=function(e){e.preventDefault(),r=e.dataTransfer.files[0],o()},$(document).on("click","#reset-excel-import",(function(){$("#input-excel-import").attr("required",!0),$("#form-excel-import").trigger("reset"),$("#no-excel-import").removeClass("hidden"),$("#has-excel-import").addClass("hidden"),$("#reset-excel-import").addClass("hidden")})),$(document).on("click","#btn-excel-import",(function(){$("#submit-excel-import").trigger("click")})),$(document).on("submit","#form-excel-import",(function(e){var t;e.preventDefault(),(t=new FormData).append("action",$('input[name="action"]:checked').val()),t.append("excel",r),preloadElement($("#modal-excel-import"),!1),axios.post($("#form-excel-import").attr("action"),t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){Swal.fire({icon:"success",title:"Successfully imported excel with action"}).then((function(){a(),$("#reset-excel-import").trigger("click"),$("#modal-close-excel-import").trigger("click")})),preloadElement($("#modal-excel-import"),!0)})).catch((function(e){Swal.fire({icon:"error",title:"Import excel with action Failed",html:buildErrorMessage(e.response.data)}),preloadElement($("#modal-excel-import"),!0)}))})),$(document).on("click",".paging-prev",(function(){a($(this).attr("data-page"))})),$(document).on("click",".paging-next",(function(){a($(this).attr("data-page"))})),$(document).on("click",".paging-nav",(function(){a($(this).attr("data-page"))})),$(document).ready((function(){a()}))})();
